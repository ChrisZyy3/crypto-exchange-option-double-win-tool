# crypto-exchange-option-double-win-tool
自建的期权双币宝的工程化版本：减少交易所抽水，提高双币宝收益

## 纯前端仅做期权下单的可行性说明

在仅负责展示“双币宝”风格 UI 和提交期权买入指令、且不处理行权/对冲/自动执行的前提下，前端可行性取决于是否直接持有并使用交易所 API Key：

- **不在前端持有密钥（推荐）**：前端只做行情展示与下单意图收集，将请求转发到后端由后端签名与下单。好处是 Secret 不会暴露给浏览器/插件/网络劫持，也能在后端做限流、幂等、审计与告警，保证可靠性。
- **前端直接持有密钥（极不推荐）**：虽然技术上可以在浏览器签名并调用交易所下单接口，但 Secret 会暴露给终端和任意注入脚本，缺乏 IP 白名单、限流、防重放与审计，资金风险极高。仅在完全自用、离线或无风控要求时才勉强考虑，但仍建议避免。

结论：真实下单建议至少提供一个轻量后端代签名与风控，即便前端不做行权逻辑，也不要在浏览器存储或使用交易所 API Secret。

## “伪前端”方案（Next.js API Route on Vercel）可行性
如果希望用户“打开网页就能下单”，但又不想自建服务器，可以使用 Next.js 的 API Route 部署到 Vercel，作为安全代理层：
- **架构**：浏览器前端 -> 你的 Vercel API Route（代签名、限流、审计） -> OKX/Bybit API。
- **优点**：无需自备服务器；密钥仅存于 Vercel 环境变量（不进前端）；可统一做时间戳、签名、限流、幂等、日志与告警。
- **关键点**：
  - 在 Vercel 环境变量中存放 Secret，并绑定仅交易权限（不含提币），可按需求分出只读/交易两套。
  - 在 API Route 内实现签名、IP 限制（如仅前端域名可调用）、请求频率限制与幂等校验。
  - 不要在前端暴露 Secret，也不要通过 URL/LocalStorage 传递；仅在 API Route 内完成签名并转发。
- **适用场景**：
  - 仅负责期权买入/卖出下单（无行权后续自动处理）。
  - 需要网页入口、但不希望在用户设备暴露密钥。
  - 接受由 Vercel 作为“轻量后端”的模式（本质仍是后端，只是免运维）。

结论：相比纯前端直连交易所，使用 Next.js + Vercel 作为“伪前端”代理要安全得多，能够满足“网页下单”需求，同时避免密钥暴露与缺乏风控的风险。

## 可行性答复（直接回答“可行吗？”）
- **可行，但必须满足安全约束**：Next.js API Route 部署在 Vercel 充当前端的安全代理，可以实现“打开网页下单期权”，前端不接触 Secret。
- **本质仍是后端**：API Route 负责签名、限流、审计，虽然免运维，但与“无后端”不同；若浏览器直连交易所则缺乏可接受的安全性。
- **风险提示**：Secret 仅放在 Vercel 环境变量，关闭提币权限，设置速率/域名限制，保留审计日志；否则仍有被盗用或滥用风险。

## 本地开发（步骤 1：初始化）
项目已初始化为 Next.js 14 + TypeScript + Tailwind + shadcn/ui 的前端。运行前请先安装依赖：

```bash
npm install
npm run dev
```

默认入口为 `/options` 页面。

## UI 预览（步骤 2：BTC/ETH 期权列表与下单弹窗）
- 首页包含英雄区、筛选面板以及 BTC / ETH Tab 切换。
- 期权卡片展示执行价、到期日、APR、标记价与行权说明，并提供“立即购买”弹窗。
- 弹窗内包含数量、价格类型、委托价与自定义 ID 输入，按钮仅示意下单提交（尚未接通 API）。

> 当前为静态数据示例（BTC/ETH 各 3 个到期），下一步可接入 API Route 获取真实期权链与报价。
